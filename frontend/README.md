# My Gym App (Frontend)

This is the frontend for "My Gym App": a Next.js 16 application (React 19) with Tailwind CSS and mobile support via Capacitor. The app provides fitness tracking features such as exercises, meals, weight logs, streaks, and profile management. It also includes a small set of API route handlers under the `app/api` directory for local server logic.

## Key facts
- Framework: Next.js 16 (App Router)
- Language: TypeScript + React 19
- Styling: Tailwind CSS 4
- Mobile: Capacitor iOS/Android scaffolding included under `ios/` and `android/`
- Database: Mongoose (used server-side in API routes via `lib/mongodb.ts`)

## Requirements
- Node.js (>=18 recommended)
- npm or yarn

Optional for mobile builds:
- Xcode (for iOS)
- Android Studio + SDK (for Android)

## Setup (local development)

1. Install dependencies

   npm install

2. Environment

   - Copy `.env.local` if you have a template (not included here). Typical values will include database connection strings and API keys for any external services used by the server-side routes (for example, a MongoDB URI and any AI or analytics keys).

3. Run the development server

   npm run dev

The app will start on http://localhost:3000 by default.

## Useful scripts
- `npm run dev` — Start Next.js in development mode
- `npm run build` — Build production assets
- `npm run start` — Start the production server after build
- `npm run lint` — Run ESLint

## Project layout (important folders)
- `app/` — Next.js App Router pages and API routes
  - `app/page.tsx`, `app/layout.tsx` — main site entry points
  - `app/api/*` — serverless route handlers used by the frontend (exercises, fitness, meals, profile, weight-log, auth flows, etc.)
- `components/` — React UI components used by the app
- `lib/` — shared helpers (e.g. `mongodb.ts`, `utils.ts`, data and parsing helpers)
- `models/` — Mongoose models (Exercise, Meal, FitnessLog, UserProfile, WeightLog)
- `public/` — static assets
- `ios/`, `android/` — Capacitor platform folders (if you plan to build mobile apps)

## API routes overview

The app includes server-side API routes under `app/api`. Examples:
- `app/api/exercises/route.ts` — exercise CRUD/lookup and parsing helpers
- `app/api/fitness/route.ts` — fitness logs, streaks, summary endpoints
- `app/api/meals/route.ts` — meal logging and parsing
- `app/api/weight-log/route.ts` — weight logging
- `app/api/auth/*` — passkey/verification endpoints for register/login flows

These routes use `lib/mongodb.ts` and `models/*` (Mongoose models) to persist and query data.

Note: API handler implementations vary in behavior; inspect the individual files in `app/api` for exact request/response shapes and required environment variables.

## Mobile (Capacitor) notes

The repository contains `ios/` and `android/` directories generated by Capacitor. These can be used to build platform-specific apps once the web assets are built.

Typical steps for mobile:

1. Build the web app

   npm run build

2. Sync/copy the web build into Capacitor native projects

   npx cap sync

3. Open the native project

   - iOS: `npx cap open ios` (or open the Xcode workspace in `ios/`)
   - Android: `npx cap open android` (or open the Android Studio project in `android/`)

Follow platform-specific docs for code signing and release builds.

## Environment variables and secrets

Keep sensitive values out of version control. Common variables used by this project may include:
- `MONGODB_URI` — MongoDB connection string
- Any API keys used by routes such as AI/analytics services

## Development tips
- The `app` directory uses Next.js app router conventions. When adding server-side logic, prefer colocated `route.ts` handlers inside `app/api`.
- Use the `lib/mongodb.ts` helper to open a single shared Mongoose connection to avoid connection exhaustion in serverless environments.
- There are helpful components under `components/ui` (e.g. `button.tsx`, `card.tsx`) to maintain consistent styling.

## Troubleshooting
- If the dev server doesn't start, check Node.js version and run `npm install` again.
- If API routes fail connecting to the database, verify `MONGODB_URI` and that MongoDB is reachable from your environment.
- If typescript or eslint errors block the build, run `npm run lint` or open the app in your editor to see inline diagnostics.

## Tests

There are no automated tests included in the frontend by default. Adding simple unit tests with Jest/React Testing Library or end-to-end tests with Playwright is recommended.

## Contributing

If you'd like to contribute, please open issues or PRs against the `frontend/` folder. Keep changes small and focused; update TypeScript types and add tests where appropriate.

## License

This README does not set the project license. Add a `LICENSE` file at the repository root if you want to declare one.

---

If you want, I can also:
- add a short Getting Started guide with example environment variable values (sanitized)
- add a minimal `README.dev.md` with mobile build commands and troubleshooting steps

Let me know which you'd like next.
